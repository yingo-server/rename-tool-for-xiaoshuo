# rename-tool-for-xiaoshuo

这是一个批量转换小说文件的工具，我们使用工具下载小说，有声读物后，会遇到导出的书籍，将每个文件用中文数字排序，有的设备会无序，同时，有的是数字，但没有补零，也会乱七八糟的，我也找了半天， 最后自己写了，累死了hhh，要用的取前走个star    


# 文件名处理工具集

本仓库包含两个实用的文件名处理脚本，专为处理大量有声书、音频文件和文本文件设计。这些脚本可以帮助您自动化文件名整理工作，特别适合处理包含章节编号的文件名。

## 包含脚本

1. **中文数字转阿拉伯数字工具** (`chinese_to_arabic.py`)
   - 将文件名中的中文数字转换为阿拉伯数字
   - 示例：`第一章.mp3` → `第1章.mp3`

2. **章节编号补零工具** (`pad_chapters.py`)
   - 为文件名中的章节编号补零，确保至少4位
   - 示例：`第254章.mp3` → `第0254章.mp3`

## 功能特点

-  🚀 **高效处理**：支持多线程，快速处理数千文件
-  🔒 **安全选项**：提供试运行模式，预览更改后再执行
-  📝 **详细日志**：可选日志记录功能，保存操作记录
-  💻 **跨平台**：支持Windows、Linux和macOS
-  📁 **灵活路径**：支持相对路径、绝对路径和用户目录(`~`)
-  🛡️ **错误处理**：详细错误报告和恢复机制

## 安装与使用

### 前置要求
- Python 3.6 或更高版本

### 使用方法
1. 克隆仓库或下载脚本文件：
   ```bash
   git clone https://github.com/yourusername/filename-tools.git
   cd filename-tools
   ```

2. 运行脚本：
   ```bash
   # 中文数字转阿拉伯数字
   python chinese_to_arabic.py [目录路径] [选项]
   
   # 章节编号补零
   python pad_chapters.py [目录路径] [选项]
   ```

### 通用命令行选项
| 选项 | 描述 | 默认值 |
|------|------|--------|
| `目录路径` | 要处理的目录路径 | 当前目录 |
| `--dry-run` | 试运行模式（仅显示更改，不实际执行） | 关闭 |
| `--workers N` | 线程数量 | 4 |
| `--log FILE` | 保存操作日志到指定文件 | 无 |

## 详细脚本说明

### 1. 中文数字转阿拉伯数字工具 (`chinese_to_arabic.py`)

#### 功能
将文件名中的中文数字（如"第一章"）转换为阿拉伯数字（如"第1章"）

#### 支持格式
- 音频文件: .mp3, .wav, .flac, .m4a, .ogg, .aac
- 文本文件: .txt

#### 转换示例
| 原文件名 | 转换后文件名 |
|---------|------------|
| 第一章_介绍.mp3 | 第1章_介绍.mp3 |
| 第二集_情节发展.txt | 第2集_情节发展.txt |
| 第二十节_总结.wav | 第20节_总结.wav |
| 第一百零五章_尾声.flac | 第105章_尾声.flac |

#### 使用示例
```bash
# 处理指定目录
python chinese_to_arabic.py "D:\音频文件"
```

### 2. 章节编号补零工具 (`pad_chapters.py`)

#### 功能
为文件名中的章节编号补零，确保章节编号至少有4位数字

#### 支持格式
- 音频文件: .mp3, .wav, .flac, .m4a, .ogg, .aac
- 文本文件: .txt

#### 转换示例
| 原文件名 | 转换后文件名 |
|---------|------------|
| 第254章 内容介绍.mp3 | 第0254章 内容介绍.mp3 |
| 第1集 开端.wav | 第0001集 开端.wav |
| 第25节 总结.txt | 第0025节 总结.txt |
| 第1234章 大结局.flac | 第1234章 大结局.flac (不变) |

#### 使用示例
```bash
# 处理指定目录
python pad_chapters.py "E:\小说合集"
```

## 最佳实践

1. **先试运行**：在执行实际重命名前，始终使用`--dry-run`选项预览更改
2. **备份文件**：处理重要文件前建议创建备份
3. **日志记录**：使用`--log`选项保存操作记录，便于追溯
4. **性能优化**：根据CPU核心数调整线程数（`--workers 8`）

## 常见问题

**Q: 为什么我的文件没有被处理？**  
A: 确保文件扩展名在支持的格式列表中，且文件名中包含可识别的章节编号格式。

**Q: 如何处理文件名中的其他数字？**  
A: 脚本只处理特定模式的章节编号（如"第X章"、"第X集"等），不会处理其他位置或格式的数字。

**Q: 脚本处理文件时出错怎么办？**  
A: 检查错误信息，确保有文件读写权限。错误会被记录在日志文件中。

## 贡献与反馈

欢迎提交问题报告和功能建议！请通过Issues页面提交。

## 许可证

本项目采用 [MIT 许可证](LICENSE)
